var ERRCODE_SUCCESS="0x0000",PAGEHEIGHT=900,NAVNAME="Home",MENUNAME="screenshots",LOADER={color:"#00aaff",backgroundColor:"rgba(238,238,238,0.3)"};String.prototype.template=function(t){var e=this;if(!e||!t)return e;var i=/{(.*?)}/g,l=e.match(i);return $.each(l,function(l,a){var n=a.replace(i,"$1"),c=t[n];void 0!==c&&(e=e.replace(a,c))}),e},$(function(){Page.init(),Nav.init(),Menu.init()});var Page={elContainer:".container-fluid",elHeader:".header",elTop:".fixedBar .top",elBox:".box",height:function(){var t=Math.max($(window).height(),PAGEHEIGHT);return $(this.elContainer).css("height",t),$(this.elBox).css("height",t-$(this.elHeader).outerHeight()-20),t},init:function(){var t=this;t.height(),t.scrollTop();var e;$(window).bind("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){t.height(),"function"==typeof onPageResize&&onPageResize()},100)})},scrollTop:function(){var t=$(this.elTop);$(window).scroll(function(){$(window).scrollTop()>0?t.show():t.hide()}),t.click(function(){$("html,body").animate({scrollTop:0},300)})}},Nav={el:"#nav",selectedCls:"selected",data:[{text:"首页",value:"Home",icon:"home",url:"index.html",target:"_self"},{text:"GitHub",value:"GitHub",icon:"social-github",url:"https://github.com/igonglei/clean-ui",target:"_blank"}],tpl:'<li class="{cls}"><a href="{url}" title="{text}" target="{target}"><div class="icon"><i class="icon-{icon}"></i></div><div class="text">{text}</div></a></li>',init:function(){var t=$(this.el),e=this.data,i=this.tpl,l=this.selectedCls,a="";!NAVNAME&&e.length>0&&(e[0].cls=l),$.each(e,function(t,e){e.value===NAVNAME&&(e.cls=l),a+=i.template(e)}),t.html(a)}},Menu={el:"#menu",selectedCls:"selected",data:[{text:"作品",icon:"layers",children:[{text:"作品截图",value:"screenshots",icon:"picture",url:"index.html"},{text:"环境设计器",value:"editor",icon:"loop",url:"editor.html"},{text:"空间布局",value:"lab",icon:"drawer",url:"lab.html"},{text:"插件实例",value:"plugins",icon:"cursor",url:"plugins.html"},{text:"实验室分布",value:"map",icon:"map",url:"map.html"}]}],tpl:{parent:'<li title="{text}"><div class="item {cls}"><i class="icon-{icon}"></i><span>{text}</span><i class="icon-arrow-up arrow"></i></div><ul class="sub-nav">{subHtml}</ul></li>',child:'<li data-val="{value}" class="{cls}" title="{text}"><a href="{url}"><i class="icon-{icon}"></i><span class="name">{text}</span></a></li>'},init:function(){var t=$(this.el),e=this.data,i=this.tpl,l=this.selectedCls,a="";!MENUNAME&&e.length>0&&(e[0].cls=l),$.each(e,function(t,e){var n="",c="";$.each(e.children,function(t,e){var a="";e.value===MENUNAME&&(c=a=l),e.cls=a,n+=i.child.template(e)}),e.cls!==l&&(e.cls=c),e.subHtml=n,a+=i.parent.template(e)}),t.html(a),t.off("click").on("click",".item",function(){var t=$(this);t.next().slideToggle(),t.children(".arrow").toggleClass("icon-arrow-up").toggleClass("icon-arrow-down")})}};