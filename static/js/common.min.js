var ERRCODE_SUCCESS="0x0000",PAGEHEIGHT=900,NAVNAME,MENUNAME,LOADER={color:"#00aaff",backgroundColor:"rgba(238,238,238,0.3)"};$(function(){Page.init(),Nav.init(),Menu.init()});var Page={elContainer:".container-fluid",elHeader:".header",elTop:".fixedBar .top",elBox:".box",height:function(){var e=Math.max($(window).height(),PAGEHEIGHT);return $(this.elContainer).css("height",e),$(this.elBox).css("height",e-$(this.elHeader).outerHeight()-20),e},init:function(){var e=this;e.height(),e.scrollTop();var i;$(window).bind("resize",function(){i&&clearTimeout(i),i=setTimeout(function(){e.height(),"function"==typeof onPageResize&&onPageResize()},100)})},scrollTop:function(){var e=$(this.elTop);$(window).scroll(function(){$(window).scrollTop()>100?e.show():e.hide()}),e.click(function(){$(window).scrollTop(0)})}},Nav={el:"#nav",selectedCls:"selected",data:[{text:"首页",value:"Home",icon:"home",url:"index.html"},{text:"GitHub",value:"GitHub",icon:"social-github",url:"https://github.com/igonglei/clean-ui"}],tpl:'<li class="{cls}"><a href="{url}"><div class="icon"><i class="icon-{icon}"></i></div><div class="text">{text}</div></a></li>',init:function(){var e=$(this.el),i=this.data,t=this.tpl,l=this.selectedCls,a="";!NAVNAME&&i.length>0&&(i[0].cls=l),$.each(i,function(e,i){i.value===NAVNAME&&(i.cls=l),a+=t.template(i)}),e.html(a)}},Menu={el:"#menu",selectedCls:"selected",data:[{text:"作品",icon:"layers",children:[{text:"插件实例",value:"plugins",icon:"cursor",url:"index.html"},{text:"实验室",value:"lab",icon:"drawer",url:"lab.html"},{text:"地图",value:"map",icon:"map",url:"map.html"},{text:"作品截图",value:"screenshots",icon:"picture",url:"screenshots.html"}]}],tpl:{parent:'<li><div class="item {cls}"><i class="icon-{icon}"></i><span>{text}</span><i class="icon-arrow-up arrow"></i></div><ul class="sub-nav">{subHtml}</ul></li>',child:'<li data-val="{value}" class="{cls}"><a href="{url}"><i class="icon-{icon}"></i><span class="name">{text}</span></a></li>'},init:function(){var e=$(this.el),i=this.data,t=this.tpl,l=this.selectedCls,a="";!MENUNAME&&i.length>0&&(i[0].cls=l),$.each(i,function(e,i){var n="",s="";$.each(i.children,function(e,i){var a="";i.value===MENUNAME&&(s=a=l),i.cls=a,n+=t.child.template(i)}),i.cls!==l&&(i.cls=s),i.subHtml=n,a+=t.parent.template(i)}),e.html(a),e.off("click").on("click",".item",function(){var e=$(this);e.next().slideToggle(),e.children(".arrow").toggleClass("icon-arrow-up").toggleClass("icon-arrow-down")})}};