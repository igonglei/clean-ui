!function(t){"use strict";Date.prototype.clone=function(){return new Date(this.valueOf())},Date.prototype.addDays=function(t){var r=this.clone(),e=r.getDate();return r.setDate(e+t),r},Date.prototype.addHours=function(t){var r=this.clone(),e=r.getHours();return r.setHours(e+t),r},Number.prototype.round=function(t){var r=Math.pow(10,t);return Math.round(this*r)/r},Number.prototype.ceil=function(t){var r=Math.pow(10,t);return Math.ceil(this*r)/r},Number.prototype.floor=function(t){var r=Math.pow(10,t);return Math.floor(this*r)/r},Array.prototype.toLowerCase=function(){return t.map(this,function(t,r){return t.toLowerCase()})},Array.prototype.distinct=function(r){var e=[];return t.each(this,function(n,o){r?0===t.grep(e,function(t,e){return t[r]==o[r]}).length&&e.push(o):t.inArray(o,e)<0&&e.push(o)}),e},Array.prototype.sum=function(){var r=0;return t.each(this,function(t,e){r+=e}),r},Array.prototype.orderByAsc=function(t){return this.order("asc",t)},Array.prototype.orderByDesc=function(t){return this.order("desc",t)},Array.prototype.isNumberArray=function(){var r=!0;return t.each(this,function(t,e){if(isNaN(Number(e)))return r=!1,!1}),r},Array.prototype.sort2=function(t){return this.isNumberArray()?this.sort(function(t,r){return t-r}):this.sort(),"desc"==t&&this.reverse(),this},Array.prototype.order=function(r,e){var n=this;if(0===n.length)return n;if("object"==typeof n[0]){if(!e)return n;var o=t.map(n,function(t,r){return t[e]||""}).distinct().sort2(r),i=[];return t.each(o,function(r,o){var u=t.grep(n,function(t,r){return(t[e]||"")==o});t.merge(i,u)}),i}return n.sort2(r)},Array.prototype.moveTo=function(r,e,n){if(0!==this.length){var o=t.map(this,function(t,n){if(t[r]==e)return n})[0]||0,i=this[o];this.splice(o,1),this.splice(n||0,0,i)}},Array.prototype.first=function(r,e){return t.grep(this,function(t,n){return t[r]==e})[0]},Array.prototype.mongoFilter=function(r,e){return r={$regex:r,$options:"i"},r=e?JSON.stringify(r):r,t.map(this,function(t,e){var n={};return n[t]=r,n})},String.prototype.startWith=function(t){return new RegExp("^"+t).test(this)},String.prototype.showbr=function(){return this&&this.replace(/\r\n|\n|\r/g,"<br/>")},String.prototype.parseDate=function(){return this&&Date.parse(this.replace(/-/g,"/"))},String.prototype.removeLastChar=function(){return this.replace(/\s*,\s*$/,"")},String.prototype.getUserId=function(){var r=this,e=[];if(r.length>0){var n=/\((.*?)\)/gi,o=r.match(n);o&&(e=t.map(o,function(t,r){return t&&t.replace(n,"$1").toLowerCase()}))}return e},String.prototype.getUserName=function(){var t=this.removeLastChar(),r=[];if(t.length>0){var e=/\((.*?)\)/gi;r=(t=t.replace(e,"")).split(",")}return r},String.prototype.template=function(r){var e=this;if(!e||!r)return e;var n=/{(.*?)}/g,o=e.match(n);return t.each(o,function(t,o){var i=o.replace(n,"$1"),u=r[i];void 0!==u&&(e=e.replace(o,u))}),e},String.prototype.daysToNow=function(){return((new Date).format("yyyy-MM-dd").parseDate()-this.valueOf().parseDate())/864e5},t.fn.select=function(r){return r=r||"selected",this.each(function(){t(this).addClass(r).siblings().removeClass(r)})}}(jQuery);