!function(t,n,e,i){"use strict";var o={backgroundImage:null,data:null,url:null,graph:{cellsLocked:!0,labelsVisible:!1},animation:!0,tooltip:null,contextMenu:null,highlightWidth:1},a={name:"labDesigner",init:function(t){this.newGraph(t),this.setBackground(t),this.setContextMenu(t),this.setTooltip(t),this.setHighlight(t),this.setAnimation(t),this.loadData(t,function(n){n&&0!==n.length&&(t.data=n,this.putStyle(t),this.fillGraph(t))})},newGraph:function(n){var e=n.graph=new mxGraph(n.dom);t.extend(e,n.options.graph)},setBackground:function(t){var n=t.options.backgroundImage,e=t.dom;if(n){var i=new mxImage(n,e.clientWidth,e.clientHeight);t.graph.setBackgroundImage(i)}},setContextMenu:function(t){var n=t.options.contextMenu;mxEvent.disableContextMenu(t.dom),"function"==typeof n&&(t.graph.popupMenuHandler.factoryMethod=function(e,i,o){return n.apply(t,arguments)})},setTooltip:function(t){var n=t.options.tooltip,e=t.graph;"function"==typeof n&&(new mxTooltipHandler(e),e.getTooltipForCell=function(e){return n.apply(t,arguments)})},setHighlight:function(t){new mxCellTracker(t.graph).highlight.strokeWidth=t.options.highlightWidth},setAnimation:function(t){var n=t.graph;t.options.animation&&n.getModel().addListener(mxEvent.CHANGE,function(t,e){var i=e.getProperty("edit").changes;mxEffects.animateChanges(n,i)})},loadData:function(n,e){var i=this,o=n.options,a=o.url;if(a)return void t.get(a,function(t){e&&e.call(i,t)});e&&e.call(i,o.data)},putStyle:function(n){var e=n.graph,i=n.data.style;t.each(i,function(n,i){t.each(i,function(t,i){if("vertex"===n){e.getStylesheet().getDefaultVertexStyle();e.getStylesheet().putCellStyle(t,i)}})})},fillGraph:function(n){var e=n.graph,i=n.data;e.getModel().beginUpdate();try{var o=e.getDefaultParent(),a=i.vertex;t.each(a,function(t,n){e.insertVertex(o,null,n.value,n.x,n.y,n.width,n.height,n.style)})}finally{e.getModel().endUpdate()}},resize:function(t){t.graph.center()}},r=function(n,e){this.dom=n,this.options=t.extend(!0,{},o,e),this.init()};r.prototype={constructor:r,init:function(){a.init(this)},zoomIn:function(){this.graph.zoomIn()},zoomOut:function(){this.graph.zoomOut()},resize:function(){a.resize(this)}},n.labDesigner=r,t.fn.labDesigner=function(n,e){return"string"==typeof n?t.fn.labDesigner.methods[n](this[0],e):this.each(function(){var e=new r(this,n);return t.data(this,a.name,e),e})},t.fn.labDesigner.methods={instance:function(n){return t.data(n,a.name)},options:function(t){return this.instance(t).options},graph:function(t){return this.instance(t).graph},zoomIn:function(t){return this.instance(t).zoomIn()},zoomOut:function(t){return this.instance(t).zoomOut()},resize:function(t){return this.instance(t).resize()}}}(jQuery,window,document);